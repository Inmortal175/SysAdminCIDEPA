<div class="main">
  <div class="row align-items">
    <div class="col-md-4 mt-3">
      <app-input [label_field]="'Apellidos'"></app-input>
    </div>
    <div class="col-md-4 mt-3">
      <app-input [label_field]="'Nombres'"></app-input>
    </div>
    <div class="col mt-3">
      <app-input [label_field]="'DNI'"></app-input>
    </div>
  </div>
  <div class="row mt-3">
    <div class="col-md-4">
      <app-input [label_field]="'Celular (opcional)'"></app-input>
    </div>
    <div class="col align-self-center">
      <app-button
        [btn_class]="'btn-primary'"
        [icon_class]="'fa-save'"
        [buttonName]="'Guardar propietario'"
      ></app-button>
    </div>
    <div class="col align-self-center">
      <app-button
        [btn_class]="'btn-danger'"
        [icon_class]="'fa-trash'"
        [buttonName]="'Limpiar datos'"
      ></app-button>
    </div>
  </div>
</div>
<div class="main">
  <div class="row">
    <div class="col">
      <!-- table -->

      <div class="card">
        <p-table
          #dt1
          [value]="Comuneros"
          [paginator]="true"
          [rows]="5"
          [showCurrentPageReport]="true"
          currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
          [rowsPerPageOptions]="[10, 25, 50]"
        >
          <ng-template pTemplate="caption">
            <div class="flex">
              <span class="p-input-icon-left ml-auto">
                <i class="pi pi-search"></i>
                <input
                  pInputText
                  type="text"
                  (input)="dt1.filterGlobal($event.target, 'contains')"
                  placeholder="Search keyword"
                />
              </span>
            </div>
          </ng-template>
          <ng-template pTemplate="header">
            <tr>
              <th style="width: 5%; text-align: center;">N°</th>
              <th style="width: 18%; text-align: center;">Apellidos</th>
              <th style="width: 15%; text-align: center;">Nombres</th>
              <th style="width: 10%; text-align: center;">DNI</th>
              <th style="width: 10%; text-align: center;">Celular</th>
              <th style="width: 25%; text-align: center;">Acciones</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-comunero>
            <tr>
              <td>{{ comunero.id < 10 ? "0" + comunero.id : comunero.id}}</td>
              <td>{{ comunero.surname }}</td>
              <td>{{ comunero.name }}</td>
              <td>{{ comunero.dni }}</td>
              <td>
                {{ comunero.celular.length > 0 ? comunero.celular : "Sin número
                Cel." }}
              </td>
              <td>
                <div class="row">
                  <div class="col">
                    <app-button
                      [buttonName]="'Detalles'"
                      [icon_class]="'fa-eye'"
                      [btn_class]="'btn-info'"
                      data-bs-toggle="modal"
                      data-bs-target="#exampleModal"
                      (click)="show(comunero.id)"
                    ></app-button>
                    <!-- modal -->
                    <div
                      class="modal fade"
                      id="exampleModal"
                      tabindex="-1"
                      aria-labelledby="detail-comunero"
                      aria-hidden="true"
                      data-bs-backdrop="static"
                      data-bs-keyboard="false"
                    >
                      <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="detail-comunero">
                              {{PROPIETARIO.id}} {{PROPIETARIO.surname}},
                              {{PROPIETARIO.name}}
                            </h5>
                            <button
                              type="button"
                              class="btn-close"
                              data-bs-dismiss="modal"
                              aria-label="Close"
                            ></button>
                          </div>
                          <div class="modal-body">
                            <div class="row">
                              <div class="col">
                                <app-input
                                  [label_field]="'Apellidos'"
                                ></app-input>
                              </div>
                              <div class="col">
                                <app-input
                                  [label_field]="'Nombres'"
                                ></app-input>
                              </div>
                            </div>
                            <div class="row mt-3">
                              <div class="col">
                                <app-input [label_field]="'DNI'"></app-input>
                              </div>
                              <div class="col">
                                <app-input
                                  [label_field]="'Celular (opcional)'"
                                ></app-input>
                              </div>
                            </div>
                            <div class="row mt-3">
                              <div class="col">
                                <strong>Registrado el: </strong>
                              </div>
                              <div class="col">
                                <strong>Última modificación:</strong>
                              </div>
                            </div>
                            <div class="row mt-3">
                              <div class="col">
                                <strong>Modificado por:</strong>
                              </div>
                            </div>
                          </div>
                          <div class="modal-footer">
                            <app-button
                              data-bs-dismiss="modal"
                              [btn_class]="'btn-danger'"
                              [icon_class]="'fa-times'"
                              [buttonName]="'Cerrar'"
                            >
                              Close
                            </app-button>
                            <app-button
                              [btn_class]="'btn-success'"
                              [icon_class]="'fa-save'"
                              [buttonName]="'Guardar cambios'"
                            ></app-button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- end modal -->
                  </div>
                  <div class="col">
                    <app-button
                      [buttonName]="'Eliminar'"
                      [icon_class]="'fa-trash-alt'"
                      [btn_class]="'btn-danger'"
                    ></app-button>
                  </div>
                </div>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
      <!-- end table -->
    </div>
  </div>
</div>
